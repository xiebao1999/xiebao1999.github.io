---
layout: post
title: dotnet框架搭建项目
tags: dotnet
---

从零开始搭建 dotnet 项目

# 环境准备

选用 github 开源版本，采用了前后端分离的单体架构设计：
技术选型：dotnet、、Vue3、postgresql

官方 admin.net 版本代码：git@github.com:zuohuaijun/Admin.NET.git

后端部分为 Admin.net 前端部分为 Web

项目运行需要满足的前置条件：

    dotnet版本：dotnet 8.0 & dotnet 6.0

    数据库选用：postgresql mysql

    vue包管理器：npm v10.9.0 pnpm v9.14.2 n v10.1.0

    nodejs v22.11

开发工具：vscode 、Navicat lite
vscode 插件： c# 、c# dev Kit 、vscode-solution-explorer 、.Net Install Tool

# 前端项目搭建

开发工具：vscode

## 步骤

    pnpm install

    pnpm run dev

# 后端项目搭建

开发工具：vscode

## 步骤

1）在解决方案 (solution) 选项中选中 Admin.NET.Applicataion，在该项目中的./Configuration/Database.json 中配置数据库连接信息

```diff
{
  "$schema": "https://gitee.com/dotnetchina/Furion/raw/v4/schemas/v4/furion-schema.json",
  "DbConnection": {
    "EnableConsoleSql": false, // 启用控制台打印SQL
    "ConnectionConfigs": [
      {
-        "DbType": "Sqlite", // MySql、SqlServer、Sqlite、Oracle、PostgreSQL、Dm、Kdbndp、Oscar、MySqlConnector、Access、OpenGauss、QuestDB、HG、ClickHouse、GBase、Odbc、Custom
+        "DbType": "Mysql", // MySql、SqlServer、Sqlite、Oracle、PostgreSQL、Dm、Kdbndp、Oscar、MySqlConnector、Access、OpenGauss、QuestDB、HG、ClickHouse、GBase、Odbc、Custom
-        "ConnectionString": "DataSource=./Admin.NET.db", // Sqlite 库连接字符串
+        "ConnectionString": "Server=47.120.33.11;Database=project;Uid=root;Pwd=Abc123!@#;SslMode=None;AllowLoadLocalInfile=true;", // MySql 库连接字符串",
        "DbSettings": {
          "EnableInitDb": true, // 启用库初始化（若实体没有变化建议关闭）
          "EnableDiffLog": false, // 启用库表差异日志
          "EnableUnderLine": false // 启用驼峰转下划线
        },
        "TableSettings": {
          "EnableInitTable": true, // 启用表初始化（若实体没有变化建议关闭）
          "EnableIncreTable": false // 启用表增量更新（只更新贴了特性[IncreTable]的实体表）
        },
        "SeedSettings": {
          "EnableInitSeed": true, // 启用种子初始化（若种子没有变化建议关闭）
          "EnableIncreSeed": false // 启用种子增量更新（只更新贴了特性[IncreSeed]的种子表）
        }
      }
    ]
  }
}
```

2）在解决方案 (solution) 选项中选中 Admin.NET.Applicataion，在该项目的./Program.cs 中启动服务

## Tips 备注

1、项目初始化慢，执行 clean、package

# Admin.NET 框架使用说明

在终端中执行以下命令来新建和链接项目：

```bash
# 进入项目文件夹
cd "admin.net.pro/Admin.NET"

# 创建一个 ASP.NET Core 空项目
# 语言为 C#，项目名称为 Test.Application

dotnet new "web" -lang "C#" -n "Test.Application" -o "Test.Application"

# 将新项目添加到 Admin.NET 解决方案中
dotnet sln "Admin.NET.sln" add "Test.Application/Test.Application.csproj"
```

图形化操作：

在 `solution` 中链接新创建的项目。

![_config.yml]({{ site.baseurl }}/images/dotnet_1.png)
![_config.yml]({{ site.baseurl }}/images/dotnet_2.png)
![_config.yml]({{ site.baseurl }}/images/dotnet_3.png)
